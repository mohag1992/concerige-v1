# ホテル向け コンシェルジュプラットフォーム

QRコードで起動するブラウザベースのコンシェルジュUIです。海外ゲストでもメッセージアプリに依存せず、**3タップ以内**でアイコン選択だけでリクエストを完了できます。

## 目的・効果

- **フロント業務の電話応対負荷の軽減** — 備品・予約などの問い合わせをQRから受け付け、電話の混雑を緩和
- **備品リクエスト（タオル等）の迅速化** — アイコン選択で即送信、部屋番号付きで確実に届け
- **観光情報の収集** — ゲストのニーズをリクエストとして集約し、案内・情報提供に活用
- **レストラン予約等** — 「その他」からレストラン予約を選択可能。拡張で予約フォーム連携も可

## 特徴

- **3タップ以内**: アイコン選択 → 確認 → 送信（「その他」を選んだ場合は その他 → アイコン → 確認で3タップ）
- **自由入力なし**: すべてアイコン選択のみ（言語不問で利用可能）
- **QRコードで即起動**: ブラウザで開くだけ。LINE/WhatsApp等のアプリ不要
- **客室別URL**: `?room=301` で部屋番号を渡し、スタッフが部屋を特定可能

## リクエスト例

| タップ1 | タップ2 | タップ3 |
|--------|--------|--------|
| タオル | 送信する | （完了） |
| その他 | 毛布 | 送信する |

## 起動方法

### ローカルで試す

```bash
node server.js
```

- **入れ口（トップ）**: http://localhost:3001 → QRコード生成ページ
- **ゲスト用**: http://localhost:3001/index.html?room=301（QRスキャンでこのURLに飛ばす）
- **スタッフ用チャット**: http://localhost:3001/staff.html — ゲストからのリクエストがチャット形式で表示され、リアルタイムに更新されます

### 部屋番号用QRコードの生成（入れ口）

**トップURL（/）がQRコード生成ページ＝システムの入れ口です。**

- **URL**: `http://localhost:3001/` または `http://localhost:3001/qr.html`（本番では `https://あなたのドメイン/`）
- **手順**: ベースURL（省略時は自動）、部屋番号（例: 301）を入力 → 「QRコードを生成」をクリック
- 表示されたQRコードを印刷して各客室に掲示。ゲストがスキャンすると `?room=301` 付きでコンシェルジュが開きます。

### 本番デプロイ

1. `index.html`、`qr.html`、`server.js` をホテルのサーバーまたはVercel/Netlify等にデプロイ
2. 上記QR生成ページで部屋番号ごとのQRコードを生成・印刷
3. 客室の案内やデスクにQRコードを掲示

### API連携

`POST /api/request` でリクエストを受信します。`server.js` 内でSlack・PMS・メール等に転送してください。

```json
{
  "request_type": "towels",
  "label_ja": "タオル",
  "label_en": "Towels",
  "room": "301",
  "at": "2025-02-17T12:00:00.000Z"
}
```

## ファイル構成

- `index.html` - ゲスト向けコンシェルジュ画面（単体で静的ホスト可能）
- `qr.html` - 部屋番号用QRコード生成ページ（スタッフ用）
- `staff.html` - スタッフ用Webブラウザチャット（リクエスト一覧・自動更新）
- `server.js` - 簡易サーバー（API受付・リクエスト保存・静的配信）
